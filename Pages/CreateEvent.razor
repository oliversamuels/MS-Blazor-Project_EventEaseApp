@page "/create-event"
@inject EventEaseApp.EventService EventService
@inject NavigationManager Navigation

<h3>Create Event</h3>

<EditForm Model="newEvent" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="eventName">Event Name</label>
        <InputText id="eventName" class="form-control" @bind-Value="newEvent.EventName" />
    </div>
    <div class="form-group">
        <label for="eventDate">Date</label>
        <InputDate id="eventDate" class="form-control" @bind-Value="newEvent.Date" />
    </div>
    <div class="form-group">
        <label for="eventLocation">Location</label>
        <InputText id="eventLocation" class="form-control" @bind-Value="newEvent.Location" />
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
</EditForm>

@code {
    private EventEaseApp.Event newEvent = new EventEaseApp.Event();

    private void HandleValidSubmit()
    {
        EventService.AddEvent(newEvent);
        Navigation.NavigateTo("/");
    }
}